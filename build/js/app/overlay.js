define(["jquery","TweenMax","signals"],function(a,b,c){var d=a(".loader-overlay"),e=a(".loader-text"),f=a(".video-overlay"),g=a(".getmore-overlay"),h=a(".landscape-alert-overlay"),i=a(".miniloader-overlay"),j=a(".progress-load"),k=["loader","getMoreDetails","landscapeAlert","miniloader"],l={LOADER:k[0],GETMOREDETAILS:k[1],LANDSCAPE_ALERT:k[2],MINI_LOADER:k[3]},m=l.LOADER,n=window.gmdAnimation,o=!1,p=!1,q=224;l.on={clickMainOverlay:new c.Signal,gmdLoaded:new c.Signal};var r=function(){f.css("opacity",1),f.css("visibility","show")};f.click(function(){l.on.clickMainOverlay.dispatch()});var s,t=function(a){switch(a){case l.LOADER:return d;case l.GETMOREDETAILS:return g;case l.LANDSCAPE_ALERT:return h;case l.MINI_LOADER:return i}return null};document.gmdReady=function(a){n=a,clearTimeout(s),l.on.gmdLoaded.dispatch()},l.loadGmd=function(a){a=null!=a?a:!1,(a||!o)&&(o=!0)},l.gmdLoaded=function(){return Boolean(n)},l.onBufferFull=function(){i.css("pointer-events","none"),p=!1,l.hide(l.MINI_LOADER)},l.onBufferEmpty=function(){i.css("pointer-events","auto"),p=!0,l.show(l.MINI_LOADER,.8)},l.onBufferProgress=function(a){if(p){var c=q*a;b.to(j,.4,{width:c,ease:Power1.easeInOut})}},l.show=function(c,d){r(),null===d&&(d=1);var g=t(c),h=.5;c==l.MINI_LOADER&&(h=.2),c==l.GETMOREDETAILS?(b.set(g,{autoAlpha:1}),n.play()):(b.set(g,{backgroundColor:"rgba(0,0,0,"+d+")"}),b.to(g,h,{autoAlpha:1})),c==l.LOADER&&(b.set(j,{width:1}),b.fromTo(e,.5,{autoAlpha:0,marginTop:60},{delay:.2,marginTop:0,autoAlpha:1})),c==l.LANDSCAPE_ALERT||c==l.LOADER?a(f).addClass("overlay-total"):a(f).removeClass("overlay-total"),m=c},l.hide=function(c,d,e){var g="undefined"!=typeof d&&d?0:.8;if(c==l.MINI_LOADER&&(g=.8),null===e&&(e=!1),null==c)for(var h=0;h<k.length;h++)l.hide(k[h],d,e);else b.to(t(c),g,{delay:0,autoAlpha:0,onComplete:function(){a(f).removeClass("overlay-total"),e&&f.css("visibility","hidden")}});c==m&&(m="")},l.enableClicks=function(){f.css("cursor","pointer"),f.css("pointer-events","auto")},l.disableClicks=function(){f.css("cursor","auto"),f.css("pointer-events","none")},l.disable=function(){l.hide(null,!1,!0),l.disableClicks()},l.updateProgress=function(a){var c=q*a;b.to(j,.4,{width:c,ease:Power1.easeInOut})};var u=!1;return l.pauseGmd=function(){n&&n.isPlaying()&&(n.stop(),u=!0)},l.resumeGmd=function(){n&&u&&(n.play(),u=!1)},l});